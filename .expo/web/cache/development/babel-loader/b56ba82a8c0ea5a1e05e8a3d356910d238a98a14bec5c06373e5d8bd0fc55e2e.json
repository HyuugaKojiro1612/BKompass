{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { Config } from \"../Config\";\nimport { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nvar baseQuery = fetchBaseQuery({\n  baseUrl: Config.API_URL\n});\nvar baseQueryWithInterceptor = function () {\n  var _ref = _asyncToGenerator(function* (args, api, extraOptions) {\n    var result = yield baseQuery(args, api, extraOptions);\n    if (result.error && result.error.status === 401) {}\n    return result;\n  });\n  return function baseQueryWithInterceptor(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var API = createApi({\n  baseQuery: baseQueryWithInterceptor,\n  endpoints: function endpoints() {\n    return {};\n  }\n});","map":{"version":3,"names":["Config","createApi","fetchBaseQuery","baseQuery","baseUrl","API_URL","baseQueryWithInterceptor","_ref","_asyncToGenerator","args","api","extraOptions","result","error","status","_x","_x2","_x3","apply","arguments","API","endpoints"],"sources":["E:/Project/Mobile/react-native-expo-redux-template/src/Services/base.ts"],"sourcesContent":["import { Config } from \"@/Config\";\r\nimport { BaseQueryApi } from \"@reduxjs/toolkit/dist/query/baseQueryTypes\";\r\nimport {\r\n  createApi,\r\n  FetchArgs,\r\n  fetchBaseQuery,\r\n} from \"@reduxjs/toolkit/query/react\";\r\n\r\nconst baseQuery = fetchBaseQuery({ baseUrl: Config.API_URL });\r\n\r\nconst baseQueryWithInterceptor = async (\r\n  args: string | FetchArgs,\r\n  api: BaseQueryApi,\r\n  extraOptions: {}\r\n) => {\r\n  const result = await baseQuery(args, api, extraOptions);\r\n  if (result.error && result.error.status === 401) {\r\n    // here you can deal with 401 error\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const API = createApi({\r\n  baseQuery: baseQueryWithInterceptor,\r\n  endpoints: () => ({}),\r\n});\r\n"],"mappings":";AAAA,SAASA,MAAM;AAEf,SACEC,SAAS,EAETC,cAAc,QACT,8BAA8B;AAErC,IAAMC,SAAS,GAAGD,cAAc,CAAC;EAAEE,OAAO,EAAEJ,MAAM,CAACK;AAAQ,CAAC,CAAC;AAE7D,IAAMC,wBAAwB;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAC/BC,IAAwB,EACxBC,GAAiB,EACjBC,YAAgB,EACb;IACH,IAAMC,MAAM,SAAST,SAAS,CAACM,IAAI,EAAEC,GAAG,EAAEC,YAAY,CAAC;IACvD,IAAIC,MAAM,CAACC,KAAK,IAAID,MAAM,CAACC,KAAK,CAACC,MAAM,KAAK,GAAG,EAAE,CAEjD;IACA,OAAOF,MAAM;EACf,CAAC;EAAA,gBAVKN,wBAAwBA,CAAAS,EAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAAV,IAAA,CAAAW,KAAA,OAAAC,SAAA;EAAA;AAAA,GAU7B;AAED,OAAO,IAAMC,GAAG,GAAGnB,SAAS,CAAC;EAC3BE,SAAS,EAAEG,wBAAwB;EACnCe,SAAS,EAAE,SAAAA,UAAA;IAAA,OAAO,CAAC,CAAC;EAAA;AACtB,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}